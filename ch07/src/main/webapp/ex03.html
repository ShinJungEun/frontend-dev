<!DOCTYPE html>
<html lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script type="text/javascript" src="jquery/jquery-3.4.1.js"></script>
<script type="text/javascript">
// class 선택자만 지원해주는 dQuery 라이브러리
// 간단 jQuery 만들어보기
var jQuery = function(selector) {
	console.log("type:" + typeof(selector));
	if(typeof(selector) == 'object') {
		var elements = [];
		element.push(selector);
	}
	else {
		var elements = document.querySelectorAll(selector);
	}
	return new _jQuery(elements);
}

var _jQuery = function(elements) {
	this.length = elements.length;
	for(var i = 0; i < elements.length; i++) {
		this["" + i] = elements[i];
	}
}

_jQuery.prototype.css = function(name, value) {
	for(var i = 0; i < this.length; i++) {
		this[i].style[name] = value;
	}
}

_jQuery.prototype.get = function(index) {
	return this[index];
}

_jQuery.prototype.click = function(handler) {
	for(var i = 0; i < this.length; i++) {
		this[i].addEventListener("click", handler);
	}
}

var $ = jQuery;

window.addEventListener('load', function() {
	setTimeout(function() {
		// test
		// var $obj = $d("#header");	// id
		var $obj = $(".par");			// class name
		// var $obj = $d("body p");		
		console.log($obj);
		$obj.css("color", "red");
		$obj.click(function() {
			console.log("clicked");
			$(this).css("text-decoration", "underline");
		});
	}, 2000);
	
});

</script>
</head>
<body>
	<h1 id='header'>dQuery 만들기</h1>
	<p class='par'>문장1</p>
	<p>문장2</p>
	<p class='par'>문장3</p>
	<p>문장4</p>
</body>
</html>